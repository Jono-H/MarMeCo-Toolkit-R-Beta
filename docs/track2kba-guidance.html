<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Track2KBA Guidance | Marine Megafauna Conservation Toolkit</title>
  <meta name="description" content="6 Track2KBA Guidance | Marine Megafauna Conservation Toolkit" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Track2KBA Guidance | Marine Megafauna Conservation Toolkit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Track2KBA Guidance | Marine Megafauna Conservation Toolkit" />
  
  
  

<meta name="author" content="BirdLife International Partnership" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tracking-data-interpolate-speed-filter.html"/>
<link rel="next" href="seaward-extension-introduction.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="tracking-data-introduction.html"><a href="tracking-data-introduction.html"><i class="fa fa-check"></i><b>1</b> Tracking data: Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="tracking-data-introduction.html"><a href="tracking-data-introduction.html#introduction-to-animal-tracking-data-considered-in-this-toolkit"><i class="fa fa-check"></i><b>1.1</b> Introduction to animal tracking data considered in this toolkit</a></li>
<li class="chapter" data-level="1.2" data-path="tracking-data-introduction.html"><a href="tracking-data-introduction.html#lay-introduction-to-gps-ptt-gls-devices"><i class="fa fa-check"></i><b>1.2</b> Lay introduction to GPS, PTT, GLS devices</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tracking-data-sampling-strategy.html"><a href="tracking-data-sampling-strategy.html"><i class="fa fa-check"></i><b>2</b> Tracking data: Sampling strategy</a>
<ul>
<li class="chapter" data-level="2.1" data-path="tracking-data-sampling-strategy.html"><a href="tracking-data-sampling-strategy.html#sampling-strategy-when-collecting-animal-tracking-data-for-seabirds"><i class="fa fa-check"></i><b>2.1</b> Sampling strategy when collecting animal tracking data for seabirds</a></li>
<li class="chapter" data-level="2.2" data-path="tracking-data-sampling-strategy.html"><a href="tracking-data-sampling-strategy.html#how-many-birds-should-you-track"><i class="fa fa-check"></i><b>2.2</b> How many birds should you track?</a></li>
<li class="chapter" data-level="2.3" data-path="tracking-data-sampling-strategy.html"><a href="tracking-data-sampling-strategy.html#how-many-years-of-tracking-data-should-you-collect"><i class="fa fa-check"></i><b>2.3</b> How many years of tracking data should you collect?</a></li>
<li class="chapter" data-level="2.4" data-path="tracking-data-sampling-strategy.html"><a href="tracking-data-sampling-strategy.html#how-many-years-of-tracking-data-should-you-collect-for-iba-or-kba-identification"><i class="fa fa-check"></i><b>2.4</b> How many years of tracking data should you collect for IBA or KBA identification?</a></li>
<li class="chapter" data-level="2.5" data-path="tracking-data-sampling-strategy.html"><a href="tracking-data-sampling-strategy.html#which-locations-should-you-track-animals-from"><i class="fa fa-check"></i><b>2.5</b> Which locations should you track animals from?</a></li>
<li class="chapter" data-level="2.6" data-path="tracking-data-sampling-strategy.html"><a href="tracking-data-sampling-strategy.html#sampling-strategy-general-recommendations"><i class="fa fa-check"></i><b>2.6</b> Sampling strategy general recommendations</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html"><i class="fa fa-check"></i><b>3</b> Tracking data: Load data into R and visualise</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#description-of-the-example-dataset"><i class="fa fa-check"></i><b>3.1</b> Description of the example dataset</a></li>
<li class="chapter" data-level="3.2" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#load-packages"><i class="fa fa-check"></i><b>3.2</b> Load packages</a></li>
<li class="chapter" data-level="3.3" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#input-parameters-for-chapter-tutorial"><i class="fa fa-check"></i><b>3.3</b> Input parameters for chapter tutorial</a></li>
<li class="chapter" data-level="3.4" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#storing-reading-and-formatting-raw-tracking-data"><i class="fa fa-check"></i><b>3.4</b> Storing, reading, and formatting raw tracking data</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#storing-raw-tracking-data"><i class="fa fa-check"></i><b>3.4.1</b> Storing raw tracking data</a></li>
<li class="chapter" data-level="3.4.2" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#reading-raw-tracking-data-into-r-rstudio"><i class="fa fa-check"></i><b>3.4.2</b> Reading raw tracking data into R / Rstudio</a></li>
<li class="chapter" data-level="3.4.3" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#format-of-data"><i class="fa fa-check"></i><b>3.4.3</b> Format of data</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#load-raw-tracking-data"><i class="fa fa-check"></i><b>3.5</b> Load raw tracking data</a></li>
<li class="chapter" data-level="3.6" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#format-data-to-match-that-of-the-seabird-tracking-database"><i class="fa fa-check"></i><b>3.6</b> Format data to match that of the Seabird Tracking Database</a></li>
<li class="chapter" data-level="3.7" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#review-of-the-example-data-so-far"><i class="fa fa-check"></i><b>3.7</b> Review of the example data so far</a></li>
<li class="chapter" data-level="3.8" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#explore-the-tabular-data"><i class="fa fa-check"></i><b>3.8</b> Explore the tabular data</a></li>
<li class="chapter" data-level="3.9" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#review-of-summary-output"><i class="fa fa-check"></i><b>3.9</b> Review of summary output</a></li>
<li class="chapter" data-level="3.10" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#arrange-data-and-remove-duplicate-entries"><i class="fa fa-check"></i><b>3.10</b> Arrange data and remove duplicate entries</a></li>
<li class="chapter" data-level="3.11" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#visualise-all-the-location-data"><i class="fa fa-check"></i><b>3.11</b> Visualise all the location data</a></li>
<li class="chapter" data-level="3.12" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#review-of-overall-plot-for-all-data-points"><i class="fa fa-check"></i><b>3.12</b> Review of overall plot for all data points</a></li>
<li class="chapter" data-level="3.13" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#save-all-the-location-data-as-a-shapefile"><i class="fa fa-check"></i><b>3.13</b> Save all the location data as a shapefile</a></li>
<li class="chapter" data-level="3.14" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#save-all-the-location-data-as-a-plot"><i class="fa fa-check"></i><b>3.14</b> Save all the location data as a plot</a></li>
<li class="chapter" data-level="3.15" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#visualise-individual-animal-tracks"><i class="fa fa-check"></i><b>3.15</b> Visualise individual animal tracks</a>
<ul>
<li class="chapter" data-level="3.15.1" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#denote-beginning-and-end-of-tracks-for-individual-animals-entire-track"><i class="fa fa-check"></i><b>3.15.1</b> Denote beginning and end of tracks for individual animals entire track</a></li>
<li class="chapter" data-level="3.15.2" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#save-individual-tracks-as-static-plots"><i class="fa fa-check"></i><b>3.15.2</b> Save individual tracks as static plots</a></li>
<li class="chapter" data-level="3.15.3" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#save-individual-tracks-as-shapefiles"><i class="fa fa-check"></i><b>3.15.3</b> Save individual tracks as shapefiles</a></li>
<li class="chapter" data-level="3.15.4" data-path="tracking-data-load-data-into-r-and-visualise.html"><a href="tracking-data-load-data-into-r-and-visualise.html#when-to-remove-or-salvage-data-for-a-tracked-individual"><i class="fa fa-check"></i><b>3.15.4</b> When to remove or salvage data for a tracked individual</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html"><i class="fa fa-check"></i><b>4</b> Tracking data: Visualise individual trips</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#description-of-data"><i class="fa fa-check"></i><b>4.1</b> Description of data</a></li>
<li class="chapter" data-level="4.2" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#goal-of-chapter"><i class="fa fa-check"></i><b>4.2</b> Goal of chapter:</a></li>
<li class="chapter" data-level="4.3" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#load-packages-1"><i class="fa fa-check"></i><b>4.3</b> Load packages</a></li>
<li class="chapter" data-level="4.4" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#input-parameters-for-chapter-tutorial-1"><i class="fa fa-check"></i><b>4.4</b> Input parameters for chapter tutorial</a></li>
<li class="chapter" data-level="4.5" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#load-input-example-data-and-prepare-for-track2kba-r-package-protocol"><i class="fa fa-check"></i><b>4.5</b> Load input example data and prepare for track2KBA R package protocol</a></li>
<li class="chapter" data-level="4.6" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#track2kbaformatfields"><i class="fa fa-check"></i><b>4.6</b> track2KBA::formatFields()</a></li>
<li class="chapter" data-level="4.7" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#quick-visual-inspection-of-your-data"><i class="fa fa-check"></i><b>4.7</b> Quick visual inspection of your data</a></li>
<li class="chapter" data-level="4.8" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#define-colony-origin-of-trips--"><i class="fa fa-check"></i><b>4.8</b> Define colony / origin of trips —-</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#are-your-colony-locations-where-you-expect-them-to-be"><i class="fa fa-check"></i><b>4.8.1</b> Are your colony locations where you expect them to be?</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#apply-tripsplit"><i class="fa fa-check"></i><b>4.9</b> Apply tripSplit()</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#review-of-tripsplit-output"><i class="fa fa-check"></i><b>4.9.1</b> Review of tripSplit() output</a></li>
<li class="chapter" data-level="4.9.2" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#understanding-what-is-happening-in-tripsplit-further"><i class="fa fa-check"></i><b>4.9.2</b> Understanding what is happening in tripSplit() further</a></li>
<li class="chapter" data-level="4.9.3" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#review-the-individual-trips-for-each-tracked-animal-after-applying-tripsplit"><i class="fa fa-check"></i><b>4.9.3</b> Review the individual trips for each tracked animal after applying tripSplit()</a></li>
<li class="chapter" data-level="4.9.4" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#plot-the-individual-trips-for-each-tracked-animal-after-applying-tripsplit"><i class="fa fa-check"></i><b>4.9.4</b> Plot the individual trips for each tracked animal after applying tripSplit()</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#keep-points-associated-with-complete-trips-only"><i class="fa fa-check"></i><b>4.10</b> Keep points associated with complete trips only</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#review-points-associated-with-complete-trips-only"><i class="fa fa-check"></i><b>4.10.1</b> Review points associated with complete trips only</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#sampling-interval-assessment"><i class="fa fa-check"></i><b>4.11</b> Sampling interval assessment</a>
<ul>
<li class="chapter" data-level="4.11.1" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#sampling-interval-review"><i class="fa fa-check"></i><b>4.11.1</b> Sampling interval review</a></li>
</ul></li>
<li class="chapter" data-level="4.12" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#interpolation"><i class="fa fa-check"></i><b>4.12</b> Interpolation</a>
<ul>
<li class="chapter" data-level="4.12.1" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#interpolation-pre-processing-data"><i class="fa fa-check"></i><b>4.12.1</b> Interpolation pre-processing data</a></li>
</ul></li>
<li class="chapter" data-level="4.13" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#when-to-remove-or-salvage-data-for-a-tracked-individual-1"><i class="fa fa-check"></i><b>4.13</b> When to remove or salvage data for a tracked individual</a></li>
<li class="chapter" data-level="4.14" data-path="tracking-data-visualise-individual-trips.html"><a href="tracking-data-visualise-individual-trips.html#next-steps-in-next-chapter"><i class="fa fa-check"></i><b>4.14</b> Next steps: in next chapter</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html"><i class="fa fa-check"></i><b>5</b> Tracking data: Interpolate / speed filter</a>
<ul>
<li class="chapter" data-level="5.1" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#description-of-data-1"><i class="fa fa-check"></i><b>5.1</b> Description of data</a></li>
<li class="chapter" data-level="5.2" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#goal-of-chapter-1"><i class="fa fa-check"></i><b>5.2</b> Goal of chapter:</a></li>
<li class="chapter" data-level="5.3" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#interpolation-1"><i class="fa fa-check"></i><b>5.3</b> Interpolation</a></li>
<li class="chapter" data-level="5.4" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#load-packages-2"><i class="fa fa-check"></i><b>5.4</b> Load packages</a></li>
<li class="chapter" data-level="5.5" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#input-parameters-for-chapter-tutorial-2"><i class="fa fa-check"></i><b>5.5</b> Input parameters for chapter tutorial</a></li>
<li class="chapter" data-level="5.6" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#load-input-example-data-and-prepare-for-track2kba-r-package-protocol-1"><i class="fa fa-check"></i><b>5.6</b> Load input example data and prepare for track2KBA R package protocol</a></li>
<li class="chapter" data-level="5.7" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#interpolation-methods-differences"><i class="fa fa-check"></i><b>5.7</b> Interpolation methods differences</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#get-example-data-for-testing"><i class="fa fa-check"></i><b>5.7.1</b> Get example data for testing</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#speed-filter-linear-interpolation"><i class="fa fa-check"></i><b>5.8</b> Speed filter &amp; linear interpolation</a></li>
<li class="chapter" data-level="5.9" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#plot-speed-filtered-and-linear-interpolation-data"><i class="fa fa-check"></i><b>5.9</b> Plot: speed filtered and linear interpolation data</a></li>
<li class="chapter" data-level="5.10" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#advanced-interpolation"><i class="fa fa-check"></i><b>5.10</b> Advanced interpolation</a></li>
<li class="chapter" data-level="5.11" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#compare-different-interplation-methods"><i class="fa fa-check"></i><b>5.11</b> Compare different interplation methods</a></li>
<li class="chapter" data-level="5.12" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#review-comparison"><i class="fa fa-check"></i><b>5.12</b> Review comparison</a></li>
<li class="chapter" data-level="5.13" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#interpolation-all-data"><i class="fa fa-check"></i><b>5.13</b> Interpolation: all data</a>
<ul>
<li class="chapter" data-level="5.13.1" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#linear-interpolation-all-animals"><i class="fa fa-check"></i><b>5.13.1</b> Linear interpolation: all animals</a></li>
<li class="chapter" data-level="5.13.2" data-path="tracking-data-interpolate-speed-filter.html"><a href="tracking-data-interpolate-speed-filter.html#advanced-interpolation-all-animals"><i class="fa fa-check"></i><b>5.13.2</b> Advanced interpolation: all animals</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="track2kba-guidance.html"><a href="track2kba-guidance.html"><i class="fa fa-check"></i><b>6</b> Track2KBA Guidance</a>
<ul>
<li class="chapter" data-level="6.1" data-path="track2kba-guidance.html"><a href="track2kba-guidance.html#load-packages-3"><i class="fa fa-check"></i><b>6.1</b> Load packages</a></li>
<li class="chapter" data-level="6.2" data-path="track2kba-guidance.html"><a href="track2kba-guidance.html#download-example-data-and-format"><i class="fa fa-check"></i><b>6.2</b> Download example data and format</a></li>
<li class="chapter" data-level="6.3" data-path="track2kba-guidance.html"><a href="track2kba-guidance.html#quick-plot-all-data"><i class="fa fa-check"></i><b>6.3</b> Quick plot all data</a></li>
<li class="chapter" data-level="6.4" data-path="track2kba-guidance.html"><a href="track2kba-guidance.html#tripsplit"><i class="fa fa-check"></i><b>6.4</b> tripSplit()</a></li>
<li class="chapter" data-level="6.5" data-path="track2kba-guidance.html"><a href="track2kba-guidance.html#tripsummary"><i class="fa fa-check"></i><b>6.5</b> tripSummary()</a></li>
<li class="chapter" data-level="6.6" data-path="track2kba-guidance.html"><a href="track2kba-guidance.html#projecttracks"><i class="fa fa-check"></i><b>6.6</b> projectTracks()</a></li>
<li class="chapter" data-level="6.7" data-path="track2kba-guidance.html"><a href="track2kba-guidance.html#estspaceuse"><i class="fa fa-check"></i><b>6.7</b> estSpaceUse()</a></li>
<li class="chapter" data-level="6.8" data-path="track2kba-guidance.html"><a href="track2kba-guidance.html#review-smoothing"><i class="fa fa-check"></i><b>6.8</b> Review smoothing</a></li>
<li class="chapter" data-level="6.9" data-path="track2kba-guidance.html"><a href="track2kba-guidance.html#repassess"><i class="fa fa-check"></i><b>6.9</b> repAssess()</a></li>
<li class="chapter" data-level="6.10" data-path="track2kba-guidance.html"><a href="track2kba-guidance.html#findsite"><i class="fa fa-check"></i><b>6.10</b> findSite()</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="seaward-extension-introduction.html"><a href="seaward-extension-introduction.html"><i class="fa fa-check"></i><b>7</b> Seaward Extension Introduction</a></li>
<li class="chapter" data-level="8" data-path="seaward-extensions-1-create-background-raster.html"><a href="seaward-extensions-1-create-background-raster.html"><i class="fa fa-check"></i><b>8</b> Seaward Extensions 1: Create Background Raster</a>
<ul>
<li class="chapter" data-level="8.1" data-path="seaward-extensions-1-create-background-raster.html"><a href="seaward-extensions-1-create-background-raster.html#fill-in-raster-values-with-land-polygon-basemap"><i class="fa fa-check"></i><b>8.1</b> Fill in raster values with land polygon basemap</a></li>
<li class="chapter" data-level="8.2" data-path="seaward-extensions-1-create-background-raster.html"><a href="seaward-extensions-1-create-background-raster.html#save-the-raster-for-use-in-the-next-section"><i class="fa fa-check"></i><b>8.2</b> Save the raster for use in the next section</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="seaward-extensions-1-create-background-raster-1.html"><a href="seaward-extensions-1-create-background-raster-1.html"><i class="fa fa-check"></i><b>9</b> Seaward Extensions 1: Create Background Raster</a>
<ul>
<li class="chapter" data-level="9.1" data-path="seaward-extensions-1-create-background-raster-1.html"><a href="seaward-extensions-1-create-background-raster-1.html#fill-in-raster-values-with-land-polygon-basemap-1"><i class="fa fa-check"></i><b>9.1</b> Fill in raster values with land polygon basemap</a></li>
<li class="chapter" data-level="9.2" data-path="seaward-extensions-1-create-background-raster-1.html"><a href="seaward-extensions-1-create-background-raster-1.html#save-the-raster-for-use-in-the-next-section-1"><i class="fa fa-check"></i><b>9.2</b> Save the raster for use in the next section</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Marine Megafauna Conservation Toolkit</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="track2kba-guidance" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Track2KBA Guidance<a href="track2kba-guidance.html#track2kba-guidance" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<!--- This is an HTML comment in RMarkdown. You can use these comments to make notes that won't get read when running the code -->
<!--- If you don't understand what a RMarkdown document is. Stop here. Go learn. -->
<!--- Equally. You must understand the difference between Markdown vs. RMarkdown -->
<!--- Remember, outside of the R code chunks we are now coding in HTML syntax, not R syntax -->
<p>This tutorial uses the example data for Masked Boobies associated with the track2KBA GitHub account: <a href="https://github.com/BirdLifeInternational/track2kba" class="uri">https://github.com/BirdLifeInternational/track2kba</a> Supported by the manuscript: Beal et al. (2021). track2KBA: An R package for identifying important sites for biodiversity from tracking data. Methods in Ecology and Evolution.</p>
<p>The tutorial aims to further explain what the functions are doing and acts as a guide for inexperienced users. Users should consult this tutorial in conjunction with the 2021 manuscript, supplementary material and GitHub account.</p>
<p>While track2KBA is designed to allow minimal input from the user, users should understand the consequence of choices to input parameters while using the functions provided within track2KBA.</p>
<p><br> <br></p>
<p><strong>What does this tutorial cover:</strong></p>
<ul>
<li><p>Overview of the Track2KBA R package<br />
</p></li>
<li><p>Summary of the Track2KBA scientific paper</p>
<ul>
<li><a href="https://doi.org/10.1111/2041-210X.13713" class="uri">https://doi.org/10.1111/2041-210X.13713</a><br />
</li>
</ul></li>
<li><p>Incorporating further details from the Track2KBA paper supplementary material<br />
</p></li>
<li><p>Incorporating details from the supporting Track2KBA GitHub tutorial</p>
<ul>
<li><a href="https://github.com/BirdLifeInternational/track2kba" class="uri">https://github.com/BirdLifeInternational/track2kba</a></li>
</ul></li>
</ul>
<!--- Add a space after the line to start the bulleted list -->
<!--- Placing **text** will make text bold -->
<p><strong>Output(s) from this script, can be used to:</strong></p>
<ul>
<li><p>assess data against relevant criteria, such as:</p>
<ul>
<li><p>IBA criteria: <a href="http://datazone.birdlife.org/site/ibacriteria" class="uri">http://datazone.birdlife.org/site/ibacriteria</a></p></li>
<li><p>KBA criteria: <a href="https://www.keybiodiversityareas.org/working-with-kbas/proposing-updating/criteria" class="uri">https://www.keybiodiversityareas.org/working-with-kbas/proposing-updating/criteria</a><br />
</p></li>
</ul></li>
<li><p>or, for identification of sites from animal tracking data to be used in alternate spatial planning exercises.</p></li>
</ul>
<p>This analysis was performed in <strong>R version 4.2.2 (2022-10-31 ucrt)</strong><br />
</p>
<p>This document was last updated on <strong>2023-05-09</strong> <br></p>
<!--- In the code chunk below, we specify include = F, so that we will run the chunk but not include the chunk in the final document. We set a global argument in the code chunk of echo = T, so that in later code chunks, the code will be displayed in the RMarkdown document -->
<div id="load-packages-3" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Load packages<a href="track2kba-guidance.html#load-packages-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Load required R packages:</strong></p>
<p>If the packages fail to load, you will need to install the relevant packages.</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="track2kba-guidance.html#cb355-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb355-2"><a href="track2kba-guidance.html#cb355-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Load libraries --------------------------------------------------------------</span></span>
<span id="cb355-3"><a href="track2kba-guidance.html#cb355-3" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb355-4"><a href="track2kba-guidance.html#cb355-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-5"><a href="track2kba-guidance.html#cb355-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(track2KBA)</span>
<span id="cb355-6"><a href="track2kba-guidance.html#cb355-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb355-7"><a href="track2kba-guidance.html#cb355-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb355-8"><a href="track2kba-guidance.html#cb355-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb355-9"><a href="track2kba-guidance.html#cb355-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xlsx)</span>
<span id="cb355-10"><a href="track2kba-guidance.html#cb355-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sp)</span>
<span id="cb355-11"><a href="track2kba-guidance.html#cb355-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb355-12"><a href="track2kba-guidance.html#cb355-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span></code></pre></div>
<p><strong>Before you use track2KBA to identify a final site for assessmenent</strong> you must consider the following:</p>
<ul>
<li><p><strong>The dataGroup</strong>: Does your data sufficiently represent a unique dataGroup? See guidance.</p></li>
<li><p><strong>Cleaned data</strong>: Has your tracking data been cleaned sufficiently? I.e. have you removed likely incorrect locations from your tracking data?</p></li>
<li><p><strong>Regularised data</strong>: Does your tracking data represent locations evenly sampled in time?</p></li>
<li><p>To regularise your tracking data so locations are evenly sampled in time, you may need to interpolate your tracking data. The typical options we consider are interpolation via linear interpolation, or the more advanced method of interpolation via “CRAWL”.</p></li>
</ul>
<p><br></p>
<p><strong>Load example data available with the manuscript</strong></p>
<ul>
<li>Example data from Masked Boobies during the breeding period. Birds during this time are typically exhibiting central place foraging behaviour.</li>
</ul>
<p><strong>Consider</strong>: How should your data be formatted?</p>
<p>You should have a dataframe which has at least five columns relating to:</p>
<ul>
<li><p>“ID” of the animal(s) you tracked</p></li>
<li><p>further details tbc</p></li>
</ul>
</div>
<div id="download-example-data-and-format" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Download example data and format<a href="track2kba-guidance.html#download-example-data-and-format" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="track2kba-guidance.html#cb356-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Load the data</span></span>
<span id="cb356-2"><a href="track2kba-guidance.html#cb356-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(boobies)</span>
<span id="cb356-3"><a href="track2kba-guidance.html#cb356-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb356-4"><a href="track2kba-guidance.html#cb356-4" aria-hidden="true" tabindex="-1"></a><span class="do">## view the first two rows of the data</span></span>
<span id="cb356-5"><a href="track2kba-guidance.html#cb356-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(boobies,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##   track_id   date_gmt time_gmt longitude  latitude lon_colony lat_colony
## 1    69302 2012-07-22 04:17:15  -5.72638 -16.00711      -5.73     -16.01
## 2    69302 2012-07-22 04:28:57  -5.72642 -16.00716      -5.73     -16.01</code></pre>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="track2kba-guidance.html#cb358-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb358-2"><a href="track2kba-guidance.html#cb358-2" aria-hidden="true" tabindex="-1"></a><span class="do">## track2KBA::formatFields() ----</span></span>
<span id="cb358-3"><a href="track2kba-guidance.html#cb358-3" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb358-4"><a href="track2kba-guidance.html#cb358-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb358-5"><a href="track2kba-guidance.html#cb358-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Format the key data fields to the standard used in track2KBA</span></span>
<span id="cb358-6"><a href="track2kba-guidance.html#cb358-6" aria-hidden="true" tabindex="-1"></a>dataGroup <span class="ot">&lt;-</span> <span class="fu">formatFields</span>(</span>
<span id="cb358-7"><a href="track2kba-guidance.html#cb358-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">dataGroup =</span> boobies, </span>
<span id="cb358-8"><a href="track2kba-guidance.html#cb358-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">fieldID   =</span> <span class="st">&quot;track_id&quot;</span>, </span>
<span id="cb358-9"><a href="track2kba-guidance.html#cb358-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">fieldDate =</span> <span class="st">&quot;date_gmt&quot;</span>, </span>
<span id="cb358-10"><a href="track2kba-guidance.html#cb358-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">fieldTime =</span> <span class="st">&quot;time_gmt&quot;</span>,</span>
<span id="cb358-11"><a href="track2kba-guidance.html#cb358-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">fieldLon  =</span> <span class="st">&quot;longitude&quot;</span>, </span>
<span id="cb358-12"><a href="track2kba-guidance.html#cb358-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">fieldLat  =</span> <span class="st">&quot;latitude&quot;</span></span>
<span id="cb358-13"><a href="track2kba-guidance.html#cb358-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb358-14"><a href="track2kba-guidance.html#cb358-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb358-15"><a href="track2kba-guidance.html#cb358-15" aria-hidden="true" tabindex="-1"></a><span class="do">## review the outputs - first what the new data looks like</span></span>
<span id="cb358-16"><a href="track2kba-guidance.html#cb358-16" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dataGroup,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##      ID   date_gmt time_gmt Longitude  Latitude lon_colony lat_colony
## 1 69302 2012-07-22 04:17:15  -5.72638 -16.00711      -5.73     -16.01
## 2 69302 2012-07-22 04:28:57  -5.72642 -16.00716      -5.73     -16.01
##              DateTime
## 1 2012-07-22 04:17:15
## 2 2012-07-22 04:28:57</code></pre>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="track2kba-guidance.html#cb360-1" aria-hidden="true" tabindex="-1"></a><span class="do">## review the outputs - then details of each column (i.e. vector) class</span></span>
<span id="cb360-2"><a href="track2kba-guidance.html#cb360-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dataGroup)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    178006 obs. of  8 variables:
##  $ ID        : chr  &quot;69302&quot; &quot;69302&quot; &quot;69302&quot; &quot;69302&quot; ...
##  $ date_gmt  : chr  &quot;2012-07-22&quot; &quot;2012-07-22&quot; &quot;2012-07-21&quot; &quot;2012-07-21&quot; ...
##  $ time_gmt  : chr  &quot;04:17:15&quot; &quot;04:28:57&quot; &quot;13:04:33&quot; &quot;13:18:24&quot; ...
##  $ Longitude : num  -5.73 -5.73 -5.73 -5.73 -5.73 ...
##  $ Latitude  : num  -16 -16 -16 -16 -16 ...
##  $ lon_colony: num  -5.73 -5.73 -5.73 -5.73 -5.73 -5.73 -5.73 -5.73 -5.73 -5.73 ...
##  $ lat_colony: num  -16 -16 -16 -16 -16 ...
##  $ DateTime  : POSIXct, format: &quot;2012-07-22 04:17:15&quot; &quot;2012-07-22 04:28:57&quot; ...
##  - attr(*, &quot;.internal.selfref&quot;)=&lt;externalptr&gt;</code></pre>
</div>
<div id="quick-plot-all-data" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Quick plot all data<a href="track2kba-guidance.html#quick-plot-all-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Simple plot of all the data for a quick review:</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="track2kba-guidance.html#cb362-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb362-2"><a href="track2kba-guidance.html#cb362-2" aria-hidden="true" tabindex="-1"></a><span class="do">## view all data ----</span></span>
<span id="cb362-3"><a href="track2kba-guidance.html#cb362-3" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb362-4"><a href="track2kba-guidance.html#cb362-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-5"><a href="track2kba-guidance.html#cb362-5" aria-hidden="true" tabindex="-1"></a><span class="do">## quick plot of all data for a quick overview</span></span>
<span id="cb362-6"><a href="track2kba-guidance.html#cb362-6" aria-hidden="true" tabindex="-1"></a>dataGroup.plot <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(dataGroup, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;Longitude&quot;</span>, <span class="st">&quot;Latitude&quot;</span>), <span class="at">crs=</span><span class="dv">4326</span>) <span class="co"># 4326 = geographic WGS84</span></span>
<span id="cb362-7"><a href="track2kba-guidance.html#cb362-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(dataGroup.plot), </span>
<span id="cb362-8"><a href="track2kba-guidance.html#cb362-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex =</span> <span class="fl">0.5</span>, </span>
<span id="cb362-9"><a href="track2kba-guidance.html#cb362-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/plot-all-data-1.png" width="672" /></p>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="track2kba-guidance.html#cb363-1" aria-hidden="true" tabindex="-1"></a><span class="do">## number of datapoints</span></span>
<span id="cb363-2"><a href="track2kba-guidance.html#cb363-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(dataGroup)</span></code></pre></div>
<pre><code>## [1] 178006</code></pre>
</div>
<div id="tripsplit" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> tripSplit()<a href="track2kba-guidance.html#tripsplit" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Set up some of the input parameters needed for the <code>tripSplit()</code> function</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="track2kba-guidance.html#cb365-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb365-2"><a href="track2kba-guidance.html#cb365-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Define colony ----</span></span>
<span id="cb365-3"><a href="track2kba-guidance.html#cb365-3" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb365-4"><a href="track2kba-guidance.html#cb365-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb365-5"><a href="track2kba-guidance.html#cb365-5" aria-hidden="true" tabindex="-1"></a><span class="do">## example relates to a seabird during the breeding season, when the species</span></span>
<span id="cb365-6"><a href="track2kba-guidance.html#cb365-6" aria-hidden="true" tabindex="-1"></a><span class="do">## is known to be a central place forager, therefore, define the colony position</span></span>
<span id="cb365-7"><a href="track2kba-guidance.html#cb365-7" aria-hidden="true" tabindex="-1"></a>colony <span class="ot">&lt;-</span> dataGroup <span class="sc">%&gt;%</span> </span>
<span id="cb365-8"><a href="track2kba-guidance.html#cb365-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb365-9"><a href="track2kba-guidance.html#cb365-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Longitude =</span> <span class="fu">first</span>(Longitude), </span>
<span id="cb365-10"><a href="track2kba-guidance.html#cb365-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Latitude  =</span> <span class="fu">first</span>(Latitude)</span>
<span id="cb365-11"><a href="track2kba-guidance.html#cb365-11" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><strong>The <code>tripSplit()</code> function</strong></p>
<p>If your data does not relate to a central place forager (CPF), OR a time when an animal may be exhibiting central place foraging behaviours, then skip this section and those relating to CPF data</p>
<p>This step is often very useful to help automate the removal of location points on land, or near the vicinty of a colony. We don’t want these extra points to bias our interpretation of the data.</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="track2kba-guidance.html#cb366-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb366-2"><a href="track2kba-guidance.html#cb366-2" aria-hidden="true" tabindex="-1"></a><span class="do">## tripSplit() ----</span></span>
<span id="cb366-3"><a href="track2kba-guidance.html#cb366-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb366-4"><a href="track2kba-guidance.html#cb366-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Input is a &#39;data.frame&#39; of tracking data and the central-place location. </span></span>
<span id="cb366-5"><a href="track2kba-guidance.html#cb366-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Output is a &#39;SpatialPointsDataFrame&#39;.</span></span>
<span id="cb366-6"><a href="track2kba-guidance.html#cb366-6" aria-hidden="true" tabindex="-1"></a>trips <span class="ot">&lt;-</span> <span class="fu">tripSplit</span>(</span>
<span id="cb366-7"><a href="track2kba-guidance.html#cb366-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">dataGroup  =</span> dataGroup,</span>
<span id="cb366-8"><a href="track2kba-guidance.html#cb366-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">colony     =</span> colony,</span>
<span id="cb366-9"><a href="track2kba-guidance.html#cb366-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">innerBuff  =</span> <span class="dv">3</span>,      <span class="co"># km - defines distance an animal must travel to count as trip started</span></span>
<span id="cb366-10"><a href="track2kba-guidance.html#cb366-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">returnBuff =</span> <span class="dv">10</span>,     <span class="co"># km - defines distance an animal must be from the colony to have returned and thus completed a trip</span></span>
<span id="cb366-11"><a href="track2kba-guidance.html#cb366-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">duration   =</span> <span class="dv">1</span>,      <span class="co"># hours - defines time an animal must have travelled away from the colony to count as a trip. helps remove glitches in data or very short trips that were likely not foraging trips.</span></span>
<span id="cb366-12"><a href="track2kba-guidance.html#cb366-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">rmNonTrip  =</span> <span class="cn">TRUE</span>    <span class="co"># If true - points not associated with a trip will be removed</span></span>
<span id="cb366-13"><a href="track2kba-guidance.html#cb366-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb366-14"><a href="track2kba-guidance.html#cb366-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb366-15"><a href="track2kba-guidance.html#cb366-15" aria-hidden="true" tabindex="-1"></a><span class="do">## Review data after tripSplit()</span></span>
<span id="cb366-16"><a href="track2kba-guidance.html#cb366-16" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(trips,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##              coordinates    ID   date_gmt time_gmt Longitude  Latitude
## 706 (-5.69104, -16.0065) 69302 2012-07-22 07:52:11  -5.69104 -16.00650
## 707  (-5.68132, -16.001) 69302 2012-07-22 07:53:50  -5.68132 -16.00096
##     lon_colony lat_colony            DateTime   tripID        X         Y
## 706      -5.73     -16.01 2012-07-22 07:52:11 69302_01 -5.69104 -16.00650
## 707      -5.73     -16.01 2012-07-22 07:53:50 69302_01 -5.68132 -16.00096
##     Returns StartsOut  ColDist
## 706     Yes           3783.071
## 707     Yes           4870.651
## Coordinate Reference System (CRS) arguments: +proj=longlat +datum=WGS84
## +no_defs</code></pre>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="track2kba-guidance.html#cb368-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Assess number of points associated with a trip</span></span>
<span id="cb368-2"><a href="track2kba-guidance.html#cb368-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Yes: indicates a point is associated with a trip</span></span>
<span id="cb368-3"><a href="track2kba-guidance.html#cb368-3" aria-hidden="true" tabindex="-1"></a><span class="do">## No: not associated with a trip</span></span>
<span id="cb368-4"><a href="track2kba-guidance.html#cb368-4" aria-hidden="true" tabindex="-1"></a><span class="do">## If you specified rmNonTrip = FALSE above, then you will also get points (data) relating to the locations that would be filtered out from the tripSplit function</span></span>
<span id="cb368-5"><a href="track2kba-guidance.html#cb368-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(trips<span class="sc">$</span>Returns)</span></code></pre></div>
<pre><code>## 
##    No   Yes 
##  1733 26717</code></pre>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="track2kba-guidance.html#cb370-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb370-2"><a href="track2kba-guidance.html#cb370-2" aria-hidden="true" tabindex="-1"></a><span class="do">## mapTrips() ----</span></span>
<span id="cb370-3"><a href="track2kba-guidance.html#cb370-3" aria-hidden="true" tabindex="-1"></a><span class="do">## view data after splitting into trips ----</span></span>
<span id="cb370-4"><a href="track2kba-guidance.html#cb370-4" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb370-5"><a href="track2kba-guidance.html#cb370-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb370-6"><a href="track2kba-guidance.html#cb370-6" aria-hidden="true" tabindex="-1"></a><span class="do">## plot quick overview of trips recorded for individual birds</span></span>
<span id="cb370-7"><a href="track2kba-guidance.html#cb370-7" aria-hidden="true" tabindex="-1"></a><span class="fu">mapTrips</span>(<span class="at">trips =</span> trips, <span class="at">colony =</span> colony)</span></code></pre></div>
<p><img src="_main_files/figure-html/tripSplit-1.png" width="672" /></p>
</div>
<div id="tripsummary" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> tripSummary()<a href="track2kba-guidance.html#tripsummary" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Summarise the tracking data using the <code>tripSummary()</code> function:</strong></p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="track2kba-guidance.html#cb371-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb371-2"><a href="track2kba-guidance.html#cb371-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Filter and summary of number of trips after splitting tracks ----</span></span>
<span id="cb371-3"><a href="track2kba-guidance.html#cb371-3" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb371-4"><a href="track2kba-guidance.html#cb371-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb371-5"><a href="track2kba-guidance.html#cb371-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Before summarizing the trip movements, using tripSummary(). </span></span>
<span id="cb371-6"><a href="track2kba-guidance.html#cb371-6" aria-hidden="true" tabindex="-1"></a><span class="do">## First, we can filter out data from trips that did not return to the vicinity </span></span>
<span id="cb371-7"><a href="track2kba-guidance.html#cb371-7" aria-hidden="true" tabindex="-1"></a><span class="do">## of the colony (i.e. within returnBuff), so they don&#39;t skew the estimates.</span></span>
<span id="cb371-8"><a href="track2kba-guidance.html#cb371-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Let&#39;s also check how many trips we record as Yes vs. No before filtering</span></span>
<span id="cb371-9"><a href="track2kba-guidance.html#cb371-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb371-10"><a href="track2kba-guidance.html#cb371-10" aria-hidden="true" tabindex="-1"></a><span class="do">## Instead of looking at points associated with an invidual trip, looked at how</span></span>
<span id="cb371-11"><a href="track2kba-guidance.html#cb371-11" aria-hidden="true" tabindex="-1"></a><span class="do">## many uniqu trips you have across all individuals. i.e. the total number of trips</span></span>
<span id="cb371-12"><a href="track2kba-guidance.html#cb371-12" aria-hidden="true" tabindex="-1"></a><span class="do">## represented by each time an animal departed and returned to the colony</span></span>
<span id="cb371-13"><a href="track2kba-guidance.html#cb371-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb371-14"><a href="track2kba-guidance.html#cb371-14" aria-hidden="true" tabindex="-1"></a><span class="do">## summarise the data</span></span>
<span id="cb371-15"><a href="track2kba-guidance.html#cb371-15" aria-hidden="true" tabindex="-1"></a>totalTripsAll <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(trips) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(tripID, Returns) <span class="sc">%&gt;%</span> </span>
<span id="cb371-16"><a href="track2kba-guidance.html#cb371-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb371-17"><a href="track2kba-guidance.html#cb371-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(.)</span>
<span id="cb371-18"><a href="track2kba-guidance.html#cb371-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb371-19"><a href="track2kba-guidance.html#cb371-19" aria-hidden="true" tabindex="-1"></a><span class="do">## inspect the total number of unique trips</span></span>
<span id="cb371-20"><a href="track2kba-guidance.html#cb371-20" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(totalTripsAll<span class="sc">$</span>Returns)</span></code></pre></div>
<pre><code>## 
##  No Yes 
##   2 213</code></pre>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="track2kba-guidance.html#cb373-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Filter to only include trips that return</span></span>
<span id="cb373-2"><a href="track2kba-guidance.html#cb373-2" aria-hidden="true" tabindex="-1"></a>trips <span class="ot">&lt;-</span> <span class="fu">subset</span>(trips, trips<span class="sc">$</span>Returns <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> )</span>
<span id="cb373-3"><a href="track2kba-guidance.html#cb373-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb373-4"><a href="track2kba-guidance.html#cb373-4" aria-hidden="true" tabindex="-1"></a><span class="do">## review that you have only chosen trips that return</span></span>
<span id="cb373-5"><a href="track2kba-guidance.html#cb373-5" aria-hidden="true" tabindex="-1"></a>totalTripsYes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(trips) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(tripID, Returns) <span class="sc">%&gt;%</span> </span>
<span id="cb373-6"><a href="track2kba-guidance.html#cb373-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb373-7"><a href="track2kba-guidance.html#cb373-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(.)</span>
<span id="cb373-8"><a href="track2kba-guidance.html#cb373-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb373-9"><a href="track2kba-guidance.html#cb373-9" aria-hidden="true" tabindex="-1"></a><span class="do">## inspect total number of unique trips</span></span>
<span id="cb373-10"><a href="track2kba-guidance.html#cb373-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(totalTripsYes<span class="sc">$</span>Returns)</span></code></pre></div>
<pre><code>## 
## Yes 
## 213</code></pre>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="track2kba-guidance.html#cb375-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb375-2"><a href="track2kba-guidance.html#cb375-2" aria-hidden="true" tabindex="-1"></a><span class="do">## tripSummary() ----</span></span>
<span id="cb375-3"><a href="track2kba-guidance.html#cb375-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Rough summary of tracking data for complete trips ----</span></span>
<span id="cb375-4"><a href="track2kba-guidance.html#cb375-4" aria-hidden="true" tabindex="-1"></a><span class="do">## ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb375-5"><a href="track2kba-guidance.html#cb375-5" aria-hidden="true" tabindex="-1"></a>sumTrips <span class="ot">&lt;-</span> <span class="fu">tripSummary</span>(<span class="at">trips =</span> trips, <span class="at">colony =</span> colony)</span>
<span id="cb375-6"><a href="track2kba-guidance.html#cb375-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb375-7"><a href="track2kba-guidance.html#cb375-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Check you only have complete trips here (if that is what you are aiming for)</span></span>
<span id="cb375-8"><a href="track2kba-guidance.html#cb375-8" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(sumTrips<span class="sc">$</span>complete)</span></code></pre></div>
<pre><code>## 
## complete trip 
##           213</code></pre>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="track2kba-guidance.html#cb377-1" aria-hidden="true" tabindex="-1"></a><span class="do">## filter for only complete trips if needed</span></span>
<span id="cb377-2"><a href="track2kba-guidance.html#cb377-2" aria-hidden="true" tabindex="-1"></a><span class="co">#sumTrips  &lt;- sumTrips  %&gt;% dplyr::filter(complete= &quot;complete trip&quot;)</span></span>
<span id="cb377-3"><a href="track2kba-guidance.html#cb377-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb377-4"><a href="track2kba-guidance.html#cb377-4" aria-hidden="true" tabindex="-1"></a><span class="do">## view output</span></span>
<span id="cb377-5"><a href="track2kba-guidance.html#cb377-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sumTrips ,<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 10
## # Groups:   ID [4]
##    ID    tripID   n_locs departure           return              durat…¹ total…²
##    &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;dttm&gt;              &lt;dttm&gt;                &lt;dbl&gt;   &lt;dbl&gt;
##  1 69302 69302_01    274 2012-07-22 07:52:11 2012-07-22 16:11:03    8.31   207. 
##  2 69302 69302_02    124 2012-07-23 12:26:22 2012-07-23 15:54:05    3.46   111. 
##  3 69302 69302_03    138 2012-07-25 08:30:53 2012-07-25 12:22:53    3.87   116. 
##  4 69305 69305_01     71 2013-08-22 13:08:15 2013-08-22 15:10:59    2.05    91.6
##  5 69306 69306_01     37 2014-01-06 16:28:42 2014-01-06 17:32:11    1.06    46.2
##  6 69306 69306_02     83 2014-01-07 14:48:24 2014-01-07 17:10:21    2.37   114. 
##  7 69306 69306_03    129 2014-01-08 14:25:11 2014-01-08 17:55:22    3.50   143. 
##  8 69306 69306_04     50 2014-01-08 18:08:32 2014-01-08 19:30:40    1.37    56.1
##  9 69306 69306_05    155 2014-01-09 14:47:04 2014-01-09 19:21:32    4.57   161. 
## 10 69307 69307_01    133 2014-01-06 14:04:22 2014-01-06 17:53:01    3.81   144. 
## # … with 3 more variables: max_dist &lt;dbl&gt;, direction &lt;dbl&gt;, complete &lt;chr&gt;, and
## #   abbreviated variable names ¹​duration, ²​total_dist</code></pre>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="track2kba-guidance.html#cb379-1" aria-hidden="true" tabindex="-1"></a><span class="do">## view unique individual ID</span></span>
<span id="cb379-2"><a href="track2kba-guidance.html#cb379-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(sumTrips<span class="sc">$</span>ID)</span></code></pre></div>
<pre><code>##  [1] &quot;69302&quot; &quot;69305&quot; &quot;69306&quot; &quot;69307&quot; &quot;69308&quot; &quot;69309&quot; &quot;69310&quot; &quot;69311&quot; &quot;69312&quot;
## [10] &quot;69313&quot; &quot;69314&quot; &quot;69315&quot; &quot;69316&quot; &quot;69317&quot; &quot;69319&quot; &quot;69320&quot; &quot;69321&quot; &quot;69322&quot;
## [19] &quot;69323&quot; &quot;69324&quot; &quot;69325&quot; &quot;69326&quot; &quot;69327&quot; &quot;69328&quot; &quot;69329&quot; &quot;69330&quot; &quot;69331&quot;
## [28] &quot;69332&quot; &quot;69333&quot; &quot;69334&quot; &quot;69335&quot; &quot;69336&quot; &quot;69337&quot; &quot;69338&quot; &quot;69339&quot; &quot;69340&quot;
## [37] &quot;69341&quot; &quot;69342&quot; &quot;69343&quot; &quot;69344&quot;</code></pre>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="track2kba-guidance.html#cb381-1" aria-hidden="true" tabindex="-1"></a><span class="do">## number of individuals with tracking data</span></span>
<span id="cb381-2"><a href="track2kba-guidance.html#cb381-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(sumTrips<span class="sc">$</span>ID))</span></code></pre></div>
<pre><code>## [1] 40</code></pre>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="track2kba-guidance.html#cb383-1" aria-hidden="true" tabindex="-1"></a><span class="do">## number of unique trips from all individuals</span></span>
<span id="cb383-2"><a href="track2kba-guidance.html#cb383-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(sumTrips<span class="sc">$</span>tripID))</span></code></pre></div>
<pre><code>## [1] 213</code></pre>
</div>
<div id="projecttracks" class="section level2 hasAnchor" number="6.6">
<h2><span class="header-section-number">6.6</span> projectTracks()<a href="track2kba-guidance.html#projecttracks" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>track2KBA uses Kernel Density Estimation (KDE) to produce space use estimates for each individual track. In order for these to be accurate, we need to transform the tracking data to an equal-area projection.</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="track2kba-guidance.html#cb385-1" aria-hidden="true" tabindex="-1"></a><span class="do">## review your input data</span></span>
<span id="cb385-2"><a href="track2kba-guidance.html#cb385-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">data.frame</span>(trips),<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##        ID   date_gmt time_gmt Longitude  Latitude lon_colony lat_colony
## 706 69302 2012-07-22 07:52:11  -5.69104 -16.00650      -5.73     -16.01
## 707 69302 2012-07-22 07:53:50  -5.68132 -16.00096      -5.73     -16.01
##                DateTime   tripID        X         Y Returns StartsOut  ColDist
## 706 2012-07-22 07:52:11 69302_01 -5.69104 -16.00650     Yes           3783.071
## 707 2012-07-22 07:53:50 69302_01 -5.68132 -16.00096     Yes           4870.651
##     dataGroup.Longitude dataGroup.Latitude optional
## 706            -5.69104          -16.00650     TRUE
## 707            -5.68132          -16.00096     TRUE</code></pre>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="track2kba-guidance.html#cb387-1" aria-hidden="true" tabindex="-1"></a><span class="do">## run the function</span></span>
<span id="cb387-2"><a href="track2kba-guidance.html#cb387-2" aria-hidden="true" tabindex="-1"></a>tracks <span class="ot">&lt;-</span> <span class="fu">projectTracks</span>(<span class="at">dataGroup =</span> trips, <span class="at">projType =</span> <span class="st">&#39;azim&#39;</span>, <span class="at">custom=</span><span class="cn">TRUE</span> )</span>
<span id="cb387-3"><a href="track2kba-guidance.html#cb387-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(tracks)</span></code></pre></div>
<pre><code>## [1] &quot;SpatialPointsDataFrame&quot;
## attr(,&quot;package&quot;)
## [1] &quot;sp&quot;</code></pre>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="track2kba-guidance.html#cb389-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(tracks)</span></code></pre></div>
<pre><code>## Formal class &#39;SpatialPointsDataFrame&#39; [package &quot;sp&quot;] with 5 slots
##   ..@ data       :&#39;data.frame&#39;:  26717 obs. of  14 variables:
##   .. ..$ ID        : chr [1:26717] &quot;69302&quot; &quot;69302&quot; &quot;69302&quot; &quot;69302&quot; ...
##   .. ..$ date_gmt  : chr [1:26717] &quot;2012-07-22&quot; &quot;2012-07-22&quot; &quot;2012-07-22&quot; &quot;2012-07-22&quot; ...
##   .. ..$ time_gmt  : chr [1:26717] &quot;07:52:11&quot; &quot;07:53:50&quot; &quot;07:55:29&quot; &quot;07:57:08&quot; ...
##   .. ..$ Longitude : num [1:26717] -5.69 -5.68 -5.67 -5.66 -5.65 ...
##   .. ..$ Latitude  : num [1:26717] -16 -16 -16 -16 -16 ...
##   .. ..$ lon_colony: num [1:26717] -5.73 -5.73 -5.73 -5.73 -5.73 -5.73 -5.73 -5.73 -5.73 -5.73 ...
##   .. ..$ lat_colony: num [1:26717] -16 -16 -16 -16 -16 ...
##   .. ..$ DateTime  : POSIXct[1:26717], format: &quot;2012-07-22 07:52:11&quot; &quot;2012-07-22 07:53:50&quot; ...
##   .. ..$ tripID    : chr [1:26717] &quot;69302_01&quot; &quot;69302_01&quot; &quot;69302_01&quot; &quot;69302_01&quot; ...
##   .. ..$ X         : num [1:26717] -5.69 -5.68 -5.67 -5.66 -5.65 ...
##   .. ..$ Y         : num [1:26717] -16 -16 -16 -16 -16 ...
##   .. ..$ Returns   : chr [1:26717] &quot;Yes&quot; &quot;Yes&quot; &quot;Yes&quot; &quot;Yes&quot; ...
##   .. ..$ StartsOut : chr [1:26717] &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##   .. ..$ ColDist   : num [1:26717] 3783 4871 6407 7759 9007 ...
##   ..@ coords.nrs : num(0) 
##   ..@ coords     : num [1:26717, 1:2] -89305 -88267 -86835 -85672 -84723 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : NULL
##   .. .. ..$ : chr [1:2] &quot;dataGroup.Longitude&quot; &quot;dataGroup.Latitude&quot;
##   ..@ bbox       : num [1:2, 1:2] -165053 -113911 -2549 39853
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : chr [1:2] &quot;dataGroup.Longitude&quot; &quot;dataGroup.Latitude&quot;
##   .. .. ..$ : chr [1:2] &quot;min&quot; &quot;max&quot;
##   ..@ proj4string:Formal class &#39;CRS&#39; [package &quot;sp&quot;] with 1 slot
##   .. .. ..@ projargs: chr &quot;+proj=laea +lat_0=-15.5025687761751 +lon_0=-4.85666111798403 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs&quot;
##   .. .. ..$ comment: chr &quot;PROJCRS[\&quot;unknown\&quot;,\n    BASEGEOGCRS[\&quot;unknown\&quot;,\n        DATUM[\&quot;World Geodetic System 1984\&quot;,\n            &quot;| __truncated__</code></pre>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="track2kba-guidance.html#cb391-1" aria-hidden="true" tabindex="-1"></a><span class="do">## compare input vs. output</span></span>
<span id="cb391-2"><a href="track2kba-guidance.html#cb391-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">data.frame</span>(trips),<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##        ID   date_gmt time_gmt Longitude  Latitude lon_colony lat_colony
## 706 69302 2012-07-22 07:52:11  -5.69104 -16.00650      -5.73     -16.01
## 707 69302 2012-07-22 07:53:50  -5.68132 -16.00096      -5.73     -16.01
##                DateTime   tripID        X         Y Returns StartsOut  ColDist
## 706 2012-07-22 07:52:11 69302_01 -5.69104 -16.00650     Yes           3783.071
## 707 2012-07-22 07:53:50 69302_01 -5.68132 -16.00096     Yes           4870.651
##     dataGroup.Longitude dataGroup.Latitude optional
## 706            -5.69104          -16.00650     TRUE
## 707            -5.68132          -16.00096     TRUE</code></pre>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="track2kba-guidance.html#cb393-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">data.frame</span>(tracks),<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##        ID   date_gmt time_gmt Longitude  Latitude lon_colony lat_colony
## 706 69302 2012-07-22 07:52:11  -5.69104 -16.00650      -5.73     -16.01
## 707 69302 2012-07-22 07:53:50  -5.68132 -16.00096      -5.73     -16.01
##                DateTime   tripID        X         Y Returns StartsOut  ColDist
## 706 2012-07-22 07:52:11 69302_01 -5.69104 -16.00650     Yes           3783.071
## 707 2012-07-22 07:53:50 69302_01 -5.68132 -16.00096     Yes           4870.651
##     dataGroup.Longitude dataGroup.Latitude optional
## 706           -89304.69          -55936.88     TRUE
## 707           -88266.78          -55319.80     TRUE</code></pre>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="track2kba-guidance.html#cb395-1" aria-hidden="true" tabindex="-1"></a><span class="do">## compare projections</span></span>
<span id="cb395-2"><a href="track2kba-guidance.html#cb395-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proj4string</span>(trips)</span></code></pre></div>
<pre><code>## [1] &quot;+proj=longlat +datum=WGS84 +no_defs&quot;</code></pre>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="track2kba-guidance.html#cb397-1" aria-hidden="true" tabindex="-1"></a><span class="fu">proj4string</span>(tracks)</span></code></pre></div>
<pre><code>## [1] &quot;+proj=laea +lat_0=-15.5025687761751 +lon_0=-4.85666111798403 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs&quot;</code></pre>
<blockquote>
<p><strong>NOTE:</strong> Above you have changed your main object name from <strong>trips</strong> to <strong>tracks</strong></p>
</blockquote>
<p><br></p>
<p>##findScale()</p>
<p><code>findScale()</code> provides options for setting the all-important smoothing parameter in the KDE.</p>
<p><code>findScale()</code> calculates candidate smoothing parameter values using different methods.</p>
<p>Choosing the ‘optimal’ smoothing parameter is critical. See GitHub page. Consider what further advice we can give to users regarding choice of smoothing parameter?</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="track2kba-guidance.html#cb399-1" aria-hidden="true" tabindex="-1"></a>hVals <span class="ot">&lt;-</span> <span class="fu">findScale</span>(</span>
<span id="cb399-2"><a href="track2kba-guidance.html#cb399-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">tracks   =</span> tracks,</span>
<span id="cb399-3"><a href="track2kba-guidance.html#cb399-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">scaleARS =</span> <span class="cn">TRUE</span>,</span>
<span id="cb399-4"><a href="track2kba-guidance.html#cb399-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">sumTrips =</span> sumTrips)</span></code></pre></div>
<p><img src="_main_files/figure-html/findScale-1.png" width="672" /></p>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="track2kba-guidance.html#cb400-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Review output</span></span>
<span id="cb400-2"><a href="track2kba-guidance.html#cb400-2" aria-hidden="true" tabindex="-1"></a>hVals</span></code></pre></div>
<pre><code>##   med_max_dist step_length  mag href scaleARS
## 1        22.97        0.92 3.13 5.78     29.5</code></pre>
<div class="sourceCode" id="cb402"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb402-1"><a href="track2kba-guidance.html#cb402-1" aria-hidden="true" tabindex="-1"></a><span class="do">## must choose between one of three smoothing parameters for further analyses</span></span>
<span id="cb402-2"><a href="track2kba-guidance.html#cb402-2" aria-hidden="true" tabindex="-1"></a><span class="do">## smoothing parameter is distance in km. Read more in supporting documents.</span></span>
<span id="cb402-3"><a href="track2kba-guidance.html#cb402-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb402-4"><a href="track2kba-guidance.html#cb402-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Review each outputted smoothing parameter option</span></span>
<span id="cb402-5"><a href="track2kba-guidance.html#cb402-5" aria-hidden="true" tabindex="-1"></a>hVals<span class="sc">$</span>mag <span class="co"># affected by range of animal movement. Only works for central place foragers.</span></span></code></pre></div>
<pre><code>## [1] 3.13</code></pre>
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="track2kba-guidance.html#cb404-1" aria-hidden="true" tabindex="-1"></a>hVals<span class="sc">$</span>href <span class="co"># sort of represents quality of data</span></span></code></pre></div>
<pre><code>## [1] 5.78</code></pre>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="track2kba-guidance.html#cb406-1" aria-hidden="true" tabindex="-1"></a>hVals<span class="sc">$</span>scaleARS <span class="co"># affected by quality of data and subsequent ability to determine scale at which animal interacts with environment. Learn more about First Passage Time analysis</span></span></code></pre></div>
<pre><code>## [1] 29.5</code></pre>
</div>
<div id="estspaceuse" class="section level2 hasAnchor" number="6.7">
<h2><span class="header-section-number">6.7</span> estSpaceUse()<a href="track2kba-guidance.html#estspaceuse" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="track2kba-guidance.html#cb408-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb408-2"><a href="track2kba-guidance.html#cb408-2" aria-hidden="true" tabindex="-1"></a><span class="do">## estSpaceUse() ----</span></span>
<span id="cb408-3"><a href="track2kba-guidance.html#cb408-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Produce KDEs for each individual</span></span>
<span id="cb408-4"><a href="track2kba-guidance.html#cb408-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Note: here we might want to remove the trip start and end points that fall </span></span>
<span id="cb408-5"><a href="track2kba-guidance.html#cb408-5" aria-hidden="true" tabindex="-1"></a><span class="do">## within the innerBuff distance we set in tripSplit, so that they don&#39;t skew </span></span>
<span id="cb408-6"><a href="track2kba-guidance.html#cb408-6" aria-hidden="true" tabindex="-1"></a><span class="do">## the at-sea distribution towards to colony.</span></span>
<span id="cb408-7"><a href="track2kba-guidance.html#cb408-7" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb408-8"><a href="track2kba-guidance.html#cb408-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb408-9"><a href="track2kba-guidance.html#cb408-9" aria-hidden="true" tabindex="-1"></a><span class="do">## review input again</span></span>
<span id="cb408-10"><a href="track2kba-guidance.html#cb408-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">data.frame</span>(tracks),<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##        ID   date_gmt time_gmt Longitude  Latitude lon_colony lat_colony
## 706 69302 2012-07-22 07:52:11  -5.69104 -16.00650      -5.73     -16.01
## 707 69302 2012-07-22 07:53:50  -5.68132 -16.00096      -5.73     -16.01
##                DateTime   tripID        X         Y Returns StartsOut  ColDist
## 706 2012-07-22 07:52:11 69302_01 -5.69104 -16.00650     Yes           3783.071
## 707 2012-07-22 07:53:50 69302_01 -5.68132 -16.00096     Yes           4870.651
##     dataGroup.Longitude dataGroup.Latitude optional
## 706           -89304.69          -55936.88     TRUE
## 707           -88266.78          -55319.80     TRUE</code></pre>
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="track2kba-guidance.html#cb410-1" aria-hidden="true" tabindex="-1"></a><span class="co">#min(tracks$ColDist)</span></span>
<span id="cb410-2"><a href="track2kba-guidance.html#cb410-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb410-3"><a href="track2kba-guidance.html#cb410-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb410-4"><a href="track2kba-guidance.html#cb410-4" aria-hidden="true" tabindex="-1"></a><span class="fu">warning</span>(<span class="st">&quot;Must update GitHub tutorial which specifies distance incorrectly&quot;</span>)</span>
<span id="cb410-5"><a href="track2kba-guidance.html#cb410-5" aria-hidden="true" tabindex="-1"></a><span class="do">## remove trip start and end points near colony - distance is in m (unlike innerBuff where distance was in km)</span></span>
<span id="cb410-6"><a href="track2kba-guidance.html#cb410-6" aria-hidden="true" tabindex="-1"></a><span class="fu">proj4string</span>(tracks)</span></code></pre></div>
<pre><code>## [1] &quot;+proj=laea +lat_0=-15.5025687761751 +lon_0=-4.85666111798403 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs&quot;</code></pre>
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb412-1"><a href="track2kba-guidance.html#cb412-1" aria-hidden="true" tabindex="-1"></a>tracks <span class="ot">&lt;-</span> tracks[tracks<span class="sc">$</span>ColDist <span class="sc">&gt;</span> <span class="dv">3</span><span class="sc">*</span><span class="dv">1000</span>, ] </span>
<span id="cb412-2"><a href="track2kba-guidance.html#cb412-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb412-3"><a href="track2kba-guidance.html#cb412-3" aria-hidden="true" tabindex="-1"></a><span class="do">## produce the KDEs for each individual</span></span>
<span id="cb412-4"><a href="track2kba-guidance.html#cb412-4" aria-hidden="true" tabindex="-1"></a><span class="do">## </span><span class="al">NOTE</span><span class="do">: The grid cell size (i.e., grid resolution) should be less than the </span></span>
<span id="cb412-5"><a href="track2kba-guidance.html#cb412-5" aria-hidden="true" tabindex="-1"></a><span class="do">## selected h value, otherwise the entire space use area of the animal may be </span></span>
<span id="cb412-6"><a href="track2kba-guidance.html#cb412-6" aria-hidden="true" tabindex="-1"></a><span class="do">## encompassed in few cells</span></span>
<span id="cb412-7"><a href="track2kba-guidance.html#cb412-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb412-8"><a href="track2kba-guidance.html#cb412-8" aria-hidden="true" tabindex="-1"></a>KDE <span class="ot">&lt;-</span> <span class="fu">estSpaceUse</span>(</span>
<span id="cb412-9"><a href="track2kba-guidance.html#cb412-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">tracks =</span> tracks, </span>
<span id="cb412-10"><a href="track2kba-guidance.html#cb412-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">scale =</span> hVals<span class="sc">$</span>mag, </span>
<span id="cb412-11"><a href="track2kba-guidance.html#cb412-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">levelUD =</span> <span class="dv">50</span>, </span>
<span id="cb412-12"><a href="track2kba-guidance.html#cb412-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">polyOut =</span> <span class="cn">TRUE</span></span>
<span id="cb412-13"><a href="track2kba-guidance.html#cb412-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb412-14"><a href="track2kba-guidance.html#cb412-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb412-15"><a href="track2kba-guidance.html#cb412-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb412-16"><a href="track2kba-guidance.html#cb412-16" aria-hidden="true" tabindex="-1"></a><span class="do">## use the simple mapping function to get an overview of UDs for individuals</span></span>
<span id="cb412-17"><a href="track2kba-guidance.html#cb412-17" aria-hidden="true" tabindex="-1"></a><span class="fu">mapKDE</span>(<span class="at">KDE =</span> KDE<span class="sc">$</span>UDPolygons, <span class="at">colony =</span> colony)</span></code></pre></div>
<p><img src="_main_files/figure-html/estSpaceUse-1.png" width="672" /></p>
</div>
<div id="review-smoothing" class="section level2 hasAnchor" number="6.8">
<h2><span class="header-section-number">6.8</span> Review smoothing<a href="track2kba-guidance.html#review-smoothing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>After applying estSpaceUse and viewing plot with mapKDE, at this step we should
verify that the smoothing parameter value we selected is producing reasonable
space use estimates, given what we know about our study animals. Are the core
areas much larger than expected? Much smaller? If so, consider using a different
value for the <code>scale</code> parameter.</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="track2kba-guidance.html#cb413-1" aria-hidden="true" tabindex="-1"></a><span class="do">## convert to sf object </span></span>
<span id="cb413-2"><a href="track2kba-guidance.html#cb413-2" aria-hidden="true" tabindex="-1"></a>trips_sf_IndBird <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(trips) <span class="sc">%&gt;%</span> </span>
<span id="cb413-3"><a href="track2kba-guidance.html#cb413-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(ID <span class="sc">==</span> <span class="fu">unique</span>(trips<span class="sc">$</span>ID)[<span class="dv">1</span>])</span>
<span id="cb413-4"><a href="track2kba-guidance.html#cb413-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb413-5"><a href="track2kba-guidance.html#cb413-5" aria-hidden="true" tabindex="-1"></a><span class="do">## get the UD for a single individual </span></span>
<span id="cb413-6"><a href="track2kba-guidance.html#cb413-6" aria-hidden="true" tabindex="-1"></a>ud_sf_IndBird <span class="ot">&lt;-</span> KDE<span class="sc">$</span>UDPolygons <span class="sc">%&gt;%</span> </span>
<span id="cb413-7"><a href="track2kba-guidance.html#cb413-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(id <span class="sc">==</span> trips_sf_IndBird<span class="sc">$</span>ID[<span class="dv">1</span>]) <span class="sc">%&gt;%</span> </span>
<span id="cb413-8"><a href="track2kba-guidance.html#cb413-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(.,<span class="at">crs =</span> <span class="fu">st_crs</span>(trips_sf_IndBird))</span>
<span id="cb413-9"><a href="track2kba-guidance.html#cb413-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb413-10"><a href="track2kba-guidance.html#cb413-10" aria-hidden="true" tabindex="-1"></a><span class="do">## Plot OVERALL data again for first single individual</span></span>
<span id="cb413-11"><a href="track2kba-guidance.html#cb413-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(trips_sf_IndBird), </span>
<span id="cb413-12"><a href="track2kba-guidance.html#cb413-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex =</span> <span class="fl">0.5</span>, </span>
<span id="cb413-13"><a href="track2kba-guidance.html#cb413-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">1</span>)</span>
<span id="cb413-14"><a href="track2kba-guidance.html#cb413-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb413-15"><a href="track2kba-guidance.html#cb413-15" aria-hidden="true" tabindex="-1"></a><span class="do">## and add the UD to the plot</span></span>
<span id="cb413-16"><a href="track2kba-guidance.html#cb413-16" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(ud_sf_IndBird),<span class="at">add=</span>T, <span class="at">border =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/review-smoothing-1.png" width="672" /></p>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="track2kba-guidance.html#cb414-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Determine number of points captured in UD</span></span>
<span id="cb414-2"><a href="track2kba-guidance.html#cb414-2" aria-hidden="true" tabindex="-1"></a><span class="do">## sf::sf_use_s2(FALSE) # run this if issues with st_intersection: https://stackoverflow.com/questions/68478179/how-to-resolve-spherical-geometry-failures-when-joining-spatial-data</span></span>
<span id="cb414-3"><a href="track2kba-guidance.html#cb414-3" aria-hidden="true" tabindex="-1"></a><span class="do">## PointsInUD &lt;- st_intersection(trips_sf_IndBird, ud_sf_IndBird)</span></span>
<span id="cb414-4"><a href="track2kba-guidance.html#cb414-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb414-5"><a href="track2kba-guidance.html#cb414-5" aria-hidden="true" tabindex="-1"></a><span class="do">## nrow(trips_sf_IndBird)</span></span>
<span id="cb414-6"><a href="track2kba-guidance.html#cb414-6" aria-hidden="true" tabindex="-1"></a><span class="do">## length(unique(PointsInUD$DateTime))</span></span>
<span id="cb414-7"><a href="track2kba-guidance.html#cb414-7" aria-hidden="true" tabindex="-1"></a><span class="do">## length(unique(PointsInUD$DateTime)) / nrow(trips_sf_IndBird) * 100</span></span>
<span id="cb414-8"><a href="track2kba-guidance.html#cb414-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb414-9"><a href="track2kba-guidance.html#cb414-9" aria-hidden="true" tabindex="-1"></a><span class="fu">warning</span>(<span class="st">&quot;Assess whether your selected smoothing parameter has resulted in sensible</span></span>
<span id="cb414-10"><a href="track2kba-guidance.html#cb414-10" aria-hidden="true" tabindex="-1"></a><span class="st">        Utilisation Distributions.&quot;</span>)</span>
<span id="cb414-11"><a href="track2kba-guidance.html#cb414-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb414-12"><a href="track2kba-guidance.html#cb414-12" aria-hidden="true" tabindex="-1"></a><span class="fu">warning</span>(<span class="st">&quot;Can we use the above to consider some form of test to guide smoothing</span></span>
<span id="cb414-13"><a href="track2kba-guidance.html#cb414-13" aria-hidden="true" tabindex="-1"></a><span class="st">        parameter choice?.&quot;</span>)</span></code></pre></div>
</div>
<div id="repassess" class="section level2 hasAnchor" number="6.9">
<h2><span class="header-section-number">6.9</span> repAssess()<a href="track2kba-guidance.html#repassess" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Estimate how representative this sample of animals is of the population.</p>
<blockquote>
<p>NOTE: iterations should be set to 100 at a minimum when running the script officially.</p>
</blockquote>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb415-1"><a href="track2kba-guidance.html#cb415-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb415-2"><a href="track2kba-guidance.html#cb415-2" aria-hidden="true" tabindex="-1"></a><span class="do">## repAssess() ----</span></span>
<span id="cb415-3"><a href="track2kba-guidance.html#cb415-3" aria-hidden="true" tabindex="-1"></a><span class="do">## estimate how representative this sample of animals is of the population.</span></span>
<span id="cb415-4"><a href="track2kba-guidance.html#cb415-4" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb415-5"><a href="track2kba-guidance.html#cb415-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb415-6"><a href="track2kba-guidance.html#cb415-6" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;NOTE: See iterations&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;NOTE: See iterations&quot;</code></pre>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="track2kba-guidance.html#cb417-1" aria-hidden="true" tabindex="-1"></a>repr <span class="ot">&lt;-</span> <span class="fu">repAssess</span>(</span>
<span id="cb417-2"><a href="track2kba-guidance.html#cb417-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">tracks    =</span> tracks, </span>
<span id="cb417-3"><a href="track2kba-guidance.html#cb417-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">KDE       =</span> KDE<span class="sc">$</span>KDE.Surface,</span>
<span id="cb417-4"><a href="track2kba-guidance.html#cb417-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">levelUD   =</span> <span class="dv">50</span>,</span>
<span id="cb417-5"><a href="track2kba-guidance.html#cb417-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">iteration =</span> <span class="dv">1</span>, <span class="do">## iterations should be set to 100 at a minimum when running the script officially</span></span>
<span id="cb417-6"><a href="track2kba-guidance.html#cb417-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">bootTable =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/repAssess-1.png" width="672" /></p>
</div>
<div id="findsite" class="section level2 hasAnchor" number="6.10">
<h2><span class="header-section-number">6.10</span> findSite()<a href="track2kba-guidance.html#findsite" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb418-1"><a href="track2kba-guidance.html#cb418-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb418-2"><a href="track2kba-guidance.html#cb418-2" aria-hidden="true" tabindex="-1"></a><span class="do">## findSite() ----</span></span>
<span id="cb418-3"><a href="track2kba-guidance.html#cb418-3" aria-hidden="true" tabindex="-1"></a><span class="do">## using findSite we can identify areas where animals are overlapping in space </span></span>
<span id="cb418-4"><a href="track2kba-guidance.html#cb418-4" aria-hidden="true" tabindex="-1"></a><span class="do">## and delineate sites that meet some criteria of importance.</span></span>
<span id="cb418-5"><a href="track2kba-guidance.html#cb418-5" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb418-6"><a href="track2kba-guidance.html#cb418-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb418-7"><a href="track2kba-guidance.html#cb418-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ## indicate the population size of your source populaiton. e.g. the population size</span></span>
<span id="cb418-8"><a href="track2kba-guidance.html#cb418-8" aria-hidden="true" tabindex="-1"></a><span class="co"># ## of the colony from which you tracked birds. For KBA identification, this estimate</span></span>
<span id="cb418-9"><a href="track2kba-guidance.html#cb418-9" aria-hidden="true" tabindex="-1"></a><span class="co"># ## should be in Mature Individuals. </span></span>
<span id="cb418-10"><a href="track2kba-guidance.html#cb418-10" aria-hidden="true" tabindex="-1"></a><span class="co"># ## I.e. for seabird colonies: breeding pairs * 2 = mature individuals</span></span>
<span id="cb418-11"><a href="track2kba-guidance.html#cb418-11" aria-hidden="true" tabindex="-1"></a><span class="co"># SourcePopulationSize = 500</span></span>
<span id="cb418-12"><a href="track2kba-guidance.html#cb418-12" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb418-13"><a href="track2kba-guidance.html#cb418-13" aria-hidden="true" tabindex="-1"></a><span class="co"># ## findSite function</span></span>
<span id="cb418-14"><a href="track2kba-guidance.html#cb418-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Site_PolyTrue &lt;- findSite(</span></span>
<span id="cb418-15"><a href="track2kba-guidance.html#cb418-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   KDE = KDE$KDE.Surface,</span></span>
<span id="cb418-16"><a href="track2kba-guidance.html#cb418-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   represent = repr$out,</span></span>
<span id="cb418-17"><a href="track2kba-guidance.html#cb418-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   levelUD = 50,</span></span>
<span id="cb418-18"><a href="track2kba-guidance.html#cb418-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   popSize = SourcePopulationSize,     # 500 individual seabirds breed one the island</span></span>
<span id="cb418-19"><a href="track2kba-guidance.html#cb418-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   polyOut = TRUE</span></span>
<span id="cb418-20"><a href="track2kba-guidance.html#cb418-20" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb418-21"><a href="track2kba-guidance.html#cb418-21" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb418-22"><a href="track2kba-guidance.html#cb418-22" aria-hidden="true" tabindex="-1"></a><span class="co"># ## review outputs</span></span>
<span id="cb418-23"><a href="track2kba-guidance.html#cb418-23" aria-hidden="true" tabindex="-1"></a><span class="co"># dim(Site_PolyTrue)</span></span>
<span id="cb418-24"><a href="track2kba-guidance.html#cb418-24" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb418-25"><a href="track2kba-guidance.html#cb418-25" aria-hidden="true" tabindex="-1"></a><span class="co"># ## plot option</span></span>
<span id="cb418-26"><a href="track2kba-guidance.html#cb418-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Sitemap_PolyTrue &lt;- mapSite(Site_PolyTrue, colony = colony)</span></span>
<span id="cb418-27"><a href="track2kba-guidance.html#cb418-27" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb418-28"><a href="track2kba-guidance.html#cb418-28" aria-hidden="true" tabindex="-1"></a><span class="co"># ## review output object</span></span>
<span id="cb418-29"><a href="track2kba-guidance.html#cb418-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Sitemap_PolyTrue</span></span>
<span id="cb418-30"><a href="track2kba-guidance.html#cb418-30" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb418-31"><a href="track2kba-guidance.html#cb418-31" aria-hidden="true" tabindex="-1"></a><span class="co"># ## If in findSite we instead specify polyOut=FALSE, our output will be a spatial </span></span>
<span id="cb418-32"><a href="track2kba-guidance.html#cb418-32" aria-hidden="true" tabindex="-1"></a><span class="co"># ## grid of animal densities, with each cell representing the estimated number, or </span></span>
<span id="cb418-33"><a href="track2kba-guidance.html#cb418-33" aria-hidden="true" tabindex="-1"></a><span class="co"># ## percentage of animals using that area. So this output is independent of the </span></span>
<span id="cb418-34"><a href="track2kba-guidance.html#cb418-34" aria-hidden="true" tabindex="-1"></a><span class="co"># ## representativness-based importance threshold. i.e. the output indicates</span></span>
<span id="cb418-35"><a href="track2kba-guidance.html#cb418-35" aria-hidden="true" tabindex="-1"></a><span class="co"># ## only the areas used by more or less individuals that you tracked, it does not </span></span>
<span id="cb418-36"><a href="track2kba-guidance.html#cb418-36" aria-hidden="true" tabindex="-1"></a><span class="co"># ## give you a polygon that you would necessarily assess against IBA / KBA criteria.</span></span>
<span id="cb418-37"><a href="track2kba-guidance.html#cb418-37" aria-hidden="true" tabindex="-1"></a><span class="co"># ## The output also does not use the representatives measure to estimate the OVERALL</span></span>
<span id="cb418-38"><a href="track2kba-guidance.html#cb418-38" aria-hidden="true" tabindex="-1"></a><span class="co"># ## number of individuals that are likely using certain areas when you specify the</span></span>
<span id="cb418-39"><a href="track2kba-guidance.html#cb418-39" aria-hidden="true" tabindex="-1"></a><span class="co"># ## popSize of your source population.</span></span>
<span id="cb418-40"><a href="track2kba-guidance.html#cb418-40" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb418-41"><a href="track2kba-guidance.html#cb418-41" aria-hidden="true" tabindex="-1"></a><span class="co"># ## findSite with polyOut=FALSE</span></span>
<span id="cb418-42"><a href="track2kba-guidance.html#cb418-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Site_PolyFalse &lt;- findSite(</span></span>
<span id="cb418-43"><a href="track2kba-guidance.html#cb418-43" aria-hidden="true" tabindex="-1"></a><span class="co">#   KDE = KDE$KDE.Surface,</span></span>
<span id="cb418-44"><a href="track2kba-guidance.html#cb418-44" aria-hidden="true" tabindex="-1"></a><span class="co">#   represent = repr$out,</span></span>
<span id="cb418-45"><a href="track2kba-guidance.html#cb418-45" aria-hidden="true" tabindex="-1"></a><span class="co">#   levelUD = 50,</span></span>
<span id="cb418-46"><a href="track2kba-guidance.html#cb418-46" aria-hidden="true" tabindex="-1"></a><span class="co">#   popSize = SourcePopulationSize,     # 500 individual seabirds breed one the island</span></span>
<span id="cb418-47"><a href="track2kba-guidance.html#cb418-47" aria-hidden="true" tabindex="-1"></a><span class="co">#   polyOut = FALSE</span></span>
<span id="cb418-48"><a href="track2kba-guidance.html#cb418-48" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb418-49"><a href="track2kba-guidance.html#cb418-49" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb418-50"><a href="track2kba-guidance.html#cb418-50" aria-hidden="true" tabindex="-1"></a><span class="co"># ## review outputs</span></span>
<span id="cb418-51"><a href="track2kba-guidance.html#cb418-51" aria-hidden="true" tabindex="-1"></a><span class="co"># dim(Site_PolyFalse)</span></span>
<span id="cb418-52"><a href="track2kba-guidance.html#cb418-52" aria-hidden="true" tabindex="-1"></a><span class="co"># max(Site_PolyFalse@data$N_IND)</span></span>
<span id="cb418-53"><a href="track2kba-guidance.html#cb418-53" aria-hidden="true" tabindex="-1"></a><span class="co"># max(Site_PolyFalse@data$N_animals)</span></span>
<span id="cb418-54"><a href="track2kba-guidance.html#cb418-54" aria-hidden="true" tabindex="-1"></a><span class="co"># head(unique(Site_PolyFalse@data$ID_IND))</span></span>
<span id="cb418-55"><a href="track2kba-guidance.html#cb418-55" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb418-56"><a href="track2kba-guidance.html#cb418-56" aria-hidden="true" tabindex="-1"></a><span class="co"># ## simple plot option</span></span>
<span id="cb418-57"><a href="track2kba-guidance.html#cb418-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Sitemap_PolyFalse &lt;- mapSite(Site_PolyFalse, colony = colony)</span></span>
<span id="cb418-58"><a href="track2kba-guidance.html#cb418-58" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb418-59"><a href="track2kba-guidance.html#cb418-59" aria-hidden="true" tabindex="-1"></a><span class="co"># ## review output object</span></span>
<span id="cb418-60"><a href="track2kba-guidance.html#cb418-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Sitemap_PolyFalse</span></span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tracking-data-interpolate-speed-filter.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="seaward-extension-introduction.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
